/* tmpljs 0.4 */
(function(e){var n=window.document,t=/(\s*)([a-z0-9]*)(\(\))?([.#$\s].*)?/i,u=/\[([a-z\-]+)=?([^\]]*)\]/ig,v=/([.#$])([a-z0-9\-_]+)/ig,w=/(^|[^\\])\{(.*?[^\\])\}/g,x=["input","textarea"];e.extend({tmpl:function(h,f){e.isArray(h)||(h=[]);f=f||{};var j=e(),p,g,q,l=0,r={},y=function(a,b,c){a=f[c]||"";e.isFunction(a)&&(a=a.call(f));return b+a};for(p in h){var b=t.exec(h[p]),c=b[2],d=b[4],a,s=0,m=[],k=(b[1].length+1)/4|0;if(c||d){if(b[3])try{if(a=f[c].call(f),a instanceof e)s=a,a=a[0];else if(1!==a.nodeType)throw 1;
}catch(z){a=n.createElement("div")}else a=n.createElement(c||"div");if(k&&g){for(k>l&&(g=q);k<l--;)g=g.parentNode;g.appendChild(a)}else j.push(g=a);l=k;q=a;if(d){b=d.indexOf(" ");-1!==b&&(c=d.substr(b+1).replace(w,y),d=d.substr(0,b),0>e.inArray(a.tagName.toLowerCase(),x)?a.innerHTML=c:a.value=c);for(;null!==(b=u.exec(d));)a.setAttribute(b[1],b[2]||b[1]);for(;null!==(b=v.exec(d));)switch(c=b[2],b[1]){case ".":m.push(c);break;case "#":a.id=c;break;case "$":r[c]=s||e(a)}m.length&&(a.className+=" "+m.join(" "))}}}j.c=
j.cache=r;return j}})})(jQuery);
