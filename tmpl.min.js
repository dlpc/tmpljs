/* tmpljs 0.5 */
(function(e){var t=/^(\s*)([a-z0-9]*)(\(\))?(.*)$/i,u=/\[([a-z\-]+)=?([^\]]*)\]/ig,v=/([.#$])([a-z0-9\-_]+)/ig,w=/(^|[^\\])\{(.*?[^\\])\}/g,x=["input","textarea"],n=e.isFunction;e.extend({tmpl:function(h,f){e.isArray(h)||(h=[]);f=f||{};var j=e(),p,g,q,m=0,r={},y=function(a,b,c){a=c.split(".").reduce(function(a,b){return a[b]},f);n(a)&&(a=a.call(f));return b+(a||"")};for(p in h){var b=t.exec(h[p]),c=b[2],d=b[4],a=0,s=0,k=[],l=(b[1].length+1)/4|0;if(c||d){b[3]&&n(f[c])&&(a=f[c].call(f),a instanceof
e&&(s=a,a=a[0]));if(!a||1!==a.nodeType)a=document.createElement(c||"div");if(l&&g){for(l>m&&(g=q);l<m--;)g=g.parentNode;g.appendChild(a)}else j.push(g=a);m=l;q=a;if(d){b=d.indexOf(" ");-1!==b&&(c=d.substr(b+1).replace(w,y),d=d.substr(0,b),0>e.inArray(a.tagName.toLowerCase(),x)?a.innerHTML=c:a.value=c);for(;null!==(b=u.exec(d));)a.setAttribute(b[1],b[2]||b[1]);for(;null!==(b=v.exec(d));)switch(c=b[2],b[1]){case ".":k.push(c);break;case "#":a.id=c;break;case "$":r[c]=s||e(a)}k.length&&(k.push(a.className),
a.className=k.join(" "))}}}j.c=j.cache=r;return j}})})(jQuery);
