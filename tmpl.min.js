/* tmpljs 0.8 */
(function(b){var u=/^(\s*)([\w-]*)(\((.*)\))?(.*)$/,v=/\[([\w-]+)=?([^\]]*)\]/g,w=/([.#$])([\w-]+)/g,x=/(^|[^\\])\{(.*?[^\\])\}/g,y=["input","textarea"],p=b.isFunction,z=function(b,d){return b.split(".").reduce(function(b,d){return b[d]},d)};b.extend({tmpl:function(h,d){b.isArray(h)||(h=[]);d=d||{};var k=b(),q,g,r,n=0,s={},A=function(a,c,b){a=z(b,d);p(a)&&(a=a.call(d));null==a&&(a="");return c+a};for(q in h){var c=u.exec(h[q]),e=c[2],f=c[5],a=0,t=0,l=[],m=(c[1].length+1)/4|0;if(e||f){c[3]&&p(d[e])&&
(a=d[e].apply(d,c[4].split(",")),a instanceof b&&(t=a,a=a[0]));a&&1===a.nodeType||(a=document.createElement(e||"div"));if(m&&g){for(m>n&&(g=r);m<n--;)g=g.parentNode;g.appendChild(a)}else k.push(g=a);n=m;r=a;if(f){f=f.replace(v,function(c,b,d){a.setAttribute(b,d||b);return""});c=f.indexOf(" ");-1!==c&&(e=f.substr(c+1).replace(x,A),f=f.substr(0,c),0>b.inArray(a.tagName.toLowerCase(),y)?a.innerHTML=e:a.value=e);for(;c=w.exec(f);)switch(e=c[2],c[1]){case ".":l.push(e);break;case "#":a.id=e;break;case "$":s[e]=
t||b(a)}a.className&&l.push(a.className);l.length&&(a.className=l.join(" "))}}}k.c=k.cache=s;return k}})})(jQuery);