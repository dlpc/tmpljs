/* tmpljs 0.1 */
(function(d){var n=window.document,t=/(\s*)([a-z]*)(\(\))?([.#$\s].*)?/i,u=/([.#$])([a-z\-_]+)/ig,v=/(^|[^\\])\{(.*?[^\\])\}/,w=["input","textarea"];d.extend({tmpl:function(h,f){d.isArray(h)||(h=[]);f=f||{};var j=d(),p,g,q,l=0,r={},x=function(a,b,c){a=f[c]||"";d.isFunction(a)&&(a=a.call(f));return b+a};for(p in h){var b=t.exec(h[p]),c=b[2],e=b[4],a,s=0,m=[],k=(b[1].length+1)/4|0;if(c||e){if(b[3])try{if(a=f[c].call(f),a instanceof d)s=a,a=a[0];else if(1!==a.nodeType)throw 1;}catch(y){a=n.createElement("div")}else a=
n.createElement(c||"div");if(k&&g){for(k>l&&(g=q);k<l--;)g=g.parentNode;g.appendChild(a)}else j.push(g=a);l=k;q=a;if(e){b=e.indexOf(" ");-1!=b&&(c=e.substr(b+1).replace(v,x),e=e.substr(0,b),0>d.inArray(a.tagName.toLowerCase(),w)?a.innerHTML=c:a.value=c);for(;null!==(b=u.exec(e));)switch(c=b[2],b[1]){case ".":m.push(c);break;case "#":a.id=c;break;case "$":r[c]=s||d(a)}m.length&&(a.className+=" "+m.join(" "))}}}j.c=j.cache=r;return j}})})(jQuery);
