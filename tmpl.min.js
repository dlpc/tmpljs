/*! tmpl.js 0.12.0 */
!function(a){"use strict";var b,c,d,e,f,g=["input","textarea"],h=/^(\s*)(([\w.-]*)\((.*)\)|[\w-]*)(.*)$/,i=/\[([\w-]+)=?([^\]]*)\]/g,j=/([.#$])([\w-]+)/g,k=/\{([!&]?)\s*([^\s\}]*)\s*\}/g,l=/[&<>"'`\/]/g,m={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","/":"&#x2F;"},n=function(a){return m[a]},o=function(a,b){for(var c=a.split("."),d=0,e=c.length;e>d;)b=b[c[d++]];return b},p=function(m,p,q){if(!a.isArray(m))throw"template must be array";p=p||{},q=q||p;for(var r=a(),s=0,t=m.length,u=0,v={},w=function(b,c,d){if("!"===c)return"{"+b.slice(2);var e=o(d,p);return a.isFunction(e)&&(e=e.call(p)),e||0===e||(e=""),"&"===c?e:e.replace(l,n)};t>s;){var x=h.exec(m[s++]),y=x[2],z=x[3],A=x[5],B=!1,C=!1,D=[],E=(x[1].length+1)/4|0;if(y||A){if(z){if(B=o(z,q).apply(q,a.map(x[4].split(","),a.trim)),!B)continue;B instanceof a&&(C=B,B=B[0])}if(B&&1===B.nodeType||(B=document.createElement(y||"div")),E&&c){for(E>u&&(c=b);E<u--;)c=c.parentNode;c.appendChild(B)}else r.push(c=B);if(u=E,b=B,A){for(A=A.replace(i,function(a,b,c){return B.setAttribute(b,c||""),""}),d=A.indexOf(" "),-1!==d&&(e=A.substr(d+1).replace(k,w),A=A.substr(0,d),a.inArray(B.tagName.toLowerCase(),g)<0?B.innerHTML=e:B.value=e);x=j.exec(A);)switch(f=x[2],x[1]){case".":D.push(f);break;case"#":B.id=f;break;case"$":v[f]=C||a(B)}B.className&&D.push(B.className),D.length&&(B.className=D.join(" "))}}}return r.c=r.cache=v,r};a.tmpl=p,a.fn.tmpl=function(b,c,d){return this.empty().each(function(){a(this).append(p(b,c,d))})}}(jQuery);