/* tmpljs 0.1 */
(function(e){var m=window.document,s=/(\s*)([a-z]*)(\(\))?([.#$\s].*)?/i,t=/([.#$])([a-z\-_]+)/ig,u=/(^|[^\\])\{(.*?[^\\])\}/,v=["input","textarea"];e.extend({tmpl:function(h,f){e.isArray(h)||(h=[]);f=f||{};var j=e(),g,a,n,p,b,l=0,q,c,d,k,r={},w=function(a,b,c){a=f[c]||"";e.isFunction(a)&&(a=a.call(f));return b+a};for(q in h)if(b=s.exec(h[q]),c=b[2],d=b[4],c||d){if(b[3])try{if(a=f[c].call(f),a instanceof e)n=a,a=a[0];else if(1!==a.nodeType)throw 1;}catch(x){a=m.createElement("div")}else a=m.createElement(c||
"div");if((b=(b[1].length+1)/4|0)&&g){for(b>l&&(g=p);b<l--;)g=g.parentNode;g.appendChild(a)}else j.push(g=a);l=b;p=a;if(d){b=d.indexOf(" ");-1!=b&&(c=d.substr(b+1).replace(u,w),d=d.substr(0,b),0>e.inArray(a.tagName.toLowerCase(),v)?a.innerHTML=c:a.value=c);for(k=[];null!==(b=t.exec(d));)switch(c=b[2],b[1]){case ".":k.push(c);break;case "#":a.id=c;break;case "$":r[c]=n||e(a)}k.length&&(a.className+=" "+k.join(" "))}}j.c=j.cache=r;return j}})})(jQuery);
