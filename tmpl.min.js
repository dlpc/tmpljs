/* tmpljs 0.7 */
(function(e){var t=/^(\s*)([\w-]*)(\((.*)\))?(.*)$/,u=/\[([\w-]+)=?([^\]]*)\]/g,v=/([.#$])([\w-]+)/g,w=/(^|[^\\])\{(.*?[^\\])\}/g,x=["input","textarea"],n=e.isFunction;e.extend({tmpl:function(h,f){e.isArray(h)||(h=[]);f=f||{};var j=e(),p,g,q,m=0,r={},y=function(a,b,c){a=c.split(".").reduce(function(a,b){return a[b]},f);n(a)&&(a=a.call(f));return b+(a||"")};for(p in h){var b=t.exec(h[p]),c=b[2],d=b[5],a=0,s=0,k=[],l=(b[1].length+1)/4|0;if(c||d){b[3]&&n(f[c])&&(a=f[c].apply(f,b[4].split(",")),a instanceof
e&&(s=a,a=a[0]));if(!a||1!==a.nodeType)a=document.createElement(c||"div");if(l&&g){for(l>m&&(g=q);l<m--;)g=g.parentNode;g.appendChild(a)}else j.push(g=a);m=l;q=a;if(d){d=d.replace(u,function(b,c,d){a.setAttribute(c,d||c);return""});b=d.indexOf(" ");-1!==b&&(c=d.substr(b+1).replace(w,y),d=d.substr(0,b),0>e.inArray(a.tagName.toLowerCase(),x)?a.innerHTML=c:a.value=c);for(;b=v.exec(d);)switch(c=b[2],b[1]){case ".":k.push(c);break;case "#":a.id=c;break;case "$":r[c]=s||e(a)}a.className&&k.push(a.className);
k.length&&(a.className=k.join(" "))}}}j.c=j.cache=r;return j}})})(jQuery);